<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Portfolio of Jogi Bala Venkata Aravind, a full-stack developer specializing in web development, IoT, and job portal solutions.">
  <meta name="keywords" content="portfolio, web developer, IoT, ESP32, job portal, Hyderabad, quality assurance">
  <meta name="author" content="Jogi Bala Venkata Aravind">
  <!-- Open Graph and Twitter Card -->
  <meta property="og:title" content="Jogi Bala Venkata Aravind - Portfolio">
  <meta property="og:description" content="Portfolio of Jogi Bala Venkata Aravind, a full-stack developer specializing in web development, IoT, and job portal solutions.">
  <meta property="og:image" content="https://your-domain.com/profile-image.jpg">
  <meta property="og:url" content="https://your-domain.com">
  <meta name="twitter:card" content="summary_large_image">
  <title>Jogi Bala Venkata Aravind - Portfolio</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/smoothscroll-polyfill@0.4.4/dist/smoothscroll.min.js"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=YOUR-GA-ID"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="manifest" href="/manifest.json">
  <style>
    :root {
      --primary-color: #3b82f6; /* Default blue */
      --secondary-color: #60a5fa;
    }
    body {
      background: #f9fafb;
      color: #1f2937;
      font-family: 'Inter', sans-serif;
      scroll-behavior: smooth;
      padding-top: 80px; /* Prevent navbar overlap */
    }
    .dark-mode {
      background: #1f2937;
      color: #f9fafb;
    }
    .card {
      background: linear-gradient(145deg, #ffffff, #f0f4f8);
      border: 2px solid transparent;
      border-image: linear-gradient(to bottom right, #3b82f6, #60a5fa) 1;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border-radius: 12px;
      position: relative;
    }
    .dark-mode .card {
      background: linear-gradient(145deg, #374151, #2d3748);
      border-image: linear-gradient(to bottom right, #2563eb, #4b5563) 1;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
    }
    .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    }
    .skill-card {
      perspective: 1000px;
    }
    .skill-card-inner {
      position: relative;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }
    .skill-card:hover .skill-card-inner {
      transform: rotateY(180deg);
    }
    .skill-card-front, .skill-card-back {
      backface-visibility: hidden;
      position: absolute;
      width: 100%;
      height: 100%;
      padding: 1rem;
    }
    .skill-card-back {
      transform: rotateY(180deg);
      background: linear-gradient(145deg, #e5e7eb, #d1d5db);
      border-radius: 12px;
    }
    .dark-mode .skill-card-back {
      background: linear-gradient(145deg, #4b5563, #374151);
    }
    .btn {
      background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
      color: #ffffff;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.3s ease;
      position: relative;
      overflow: hidden;
      font-size: 1rem;
      font-weight: 500;
    }
    .btn:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      background: linear-gradient(to right, #2563eb, #3b82f6);
    }
    .btn::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.4s ease, height 0.4s ease;
    }
    .btn:hover::after {
      width: 400px;
      height: 400px;
    }
    .section {
      display: none;
      opacity: 0;
      transition: opacity 0.5s ease;
      padding: 2rem 1rem;
    }
    .section.active {
      display: block;
      opacity: 1;
    }
    .fade-in {
      animation: fadeIn 0.5s ease-in;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .progress-bar {
      height: 10px;
      background: var(--primary-color);
      border-radius: 5px;
      transition: width 1s ease-in-out;
    }
    .scroll-progress {
      position: fixed;
      top: 0;
      left: 0;
      width: 0;
      height: 4px;
      background: var(--primary-color);
      z-index: 1000;
      transition: width 0.2s ease;
    }
    .back-to-top {
      position: fixed;
      bottom: 1.5rem;
      right: 1.5rem;
      z-index: 100;
    }
    .spinner {
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top: 4px solid var(--primary-color);
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      transition: opacity 0.3s ease;
    }
    .spinner.active {
      opacity: 1;
    }
    .spinner.hidden {
      opacity: 0;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .parallax {
      background-attachment: fixed;
      background-size: cover;
      background-position: center;
      position: relative;
    }
    .parallax::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
    }
    .nav-links {
      transition: transform 0.3s ease-in-out;
    }
    .nav-links.open {
      transform: translateX(0);
    }
    .typed::after {
      content: '|';
      display: inline;
      animation: blink 0.7s infinite;
    }
    @keyframes blink {
      0% { opacity: 1; }
      50% { opacity: 0; }
      100% { opacity: 1; }
    }
    .data-update {
      transition: all 0.3s ease;
    }
    .data-update.active {
      transform: scale(1.1);
      color: var(--primary-color);
    }
    .timeline-item::before {
      content: '';
      position: absolute;
      left: 1rem;
      top: 0;
      height: 100%;
      width: 4px;
      background: var(--primary-color);
    }
    .timeline-item::after {
      content: '';
      position: absolute;
      left: 0.75rem;
      top: 0.5rem;
      width: 12px;
      height: 12px;
      background: #ffffff;
      border: 2px solid var(--primary-color);
      border-radius: 50%;
    }
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 2000;
      overflow-y: auto;
    }
    .modal-content {
      background: #ffffff;
      margin: 5% auto;
      padding: 1.5rem;
      border-radius: 12px;
      max-width: 600px;
      position: relative;
    }
    .dark-mode .modal-content {
      background: #2d3748;
    }
    /* Responsive Styling */
    @media (max-width: 640px) {
      body {
        font-size: 0.875rem;
        padding-top: 60px;
      }
      .container {
        padding: 0 0.75rem;
      }
      .card {
        padding: 0.75rem;
      }
      .btn {
        padding: 0.5rem 1rem;
        font-size: 0.85rem;
      }
      .section {
        padding: 1.5rem 0.5rem;
      }
      .nav-links {
        position: fixed;
        top: 0;
        right: 0;
        height: 100%;
        width: 80%;
        max-width: 280px;
        background: #ffffff/95;
        backdrop-filter: blur(10px);
        transform: translateX(100%);
        flex-direction: column;
        padding: 2rem 1rem;
        z-index: 60;
      }
      .dark-mode .nav-links {
        background: #1f2937/95;
      }
      .nav-links.open {
        transform: translateX(0);
      }
      .parallax {
        background-attachment: scroll;
      }
      .grid-cols-2, .grid-cols-3 {
        grid-template-columns: 1fr;
      }
      .spinner {
        width: 32px;
        height: 32px;
      }
      .modal-content {
        margin: 10% 1rem;
        padding: 1rem;
      }
    }
    @media (min-width: 641px) and (max-width: 1024px) {
      body {
        font-size: 1rem;
      }
      .container {
        padding: 0 1.5rem;
      }
      .card {
        padding: 1rem;
      }
      .btn {
        padding: 0.65rem 1.25rem;
      }
      .section {
        padding: 2rem 1rem;
      }
    }
    @media (min-width: 1025px) {
      body {
        font-size: 1.125rem;
      }
      .container {
        padding: 0 5rem;
      }
      .card {
        padding: 1.25rem;
      }
      .btn {
        padding: 0.75rem 2rem;
      }
    }
  </style>
</head>
<body class="min-h-screen transition-colors duration-300" id="body">
  <!-- Scroll Progress Bar -->
  <div id="scroll-progress" class="scroll-progress"></div>

  <!-- Loading Spinner -->
  <div id="loading" class="fixed inset-0 flex items-center justify-center bg-black/70 z-50 hidden">
    <div class="spinner"></div>
  </div>

  <!-- Navbar -->
  <nav class="fixed w-full top-0 z-60 bg-white/95 dark:bg-gray-800/95 border-b border-gray-200 dark:border-gray-700 p-4 backdrop-blur-sm" aria-label="Main navigation">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-2xl sm:text-3xl font-bold">Aravind's Portfolio</h1>
      <div class="flex items-center space-x-3 sm:space-x-4">
        <input type="color" id="theme-color" class="w-8 h-8 rounded-full cursor-pointer" value="#3b82f6" aria-label="Choose theme color">
        <button id="theme-toggle" class="text-gray-800 dark:text-white focus:outline-none p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700" aria-label="Toggle theme">
          <i class="fas fa-moon"></i>
        </button>
        <button id="mobile-menu-btn" class="md:hidden text-gray-800 dark:text-white focus:outline-none p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700" aria-label="Toggle menu">
          <i class="fas fa-bars"></i>
        </button>
      </div>
      <div id="nav-links" class="nav-links hidden md:flex space-x-4 sm:space-x-6">
        <a href="#home" class="nav-link hover:text-[var(--primary-color)] transition font-medium" data-section="home" aria-label="Home">Home</a>
        <a href="#about" class="nav-link hover:text-[var(--primary-color)] transition font-medium" data-section="about" aria-label="About">About</a>
        <a href="#skills" class="nav-link hover:text-[var(--primary-color)] transition font-medium" data-section="skills" aria-label="Skills">Skills</a>
        <a href="#projects" class="nav-link hover:text-[var(--primary-color)] transition font-medium" data-section="projects" aria-label="Projects">Projects</a>
        <a href="#jobs" class="nav-link hover:text-[var(--primary-color)] transition font-medium" data-section="jobs" aria-label="Job Portal">Job Portal</a>
        <a href="#gallery" class="nav-link hover:text-[var(--primary-color)] transition font-medium" data-section="gallery" aria-label="Gallery">Gallery</a>
        <a href="#testimonials" class="nav-link hover:text-[var(--primary-color)] transition font-medium" data-section="testimonials" aria-label="Testimonials">Testimonials</a>
        <a href="#blog" class="nav-link hover:text-[var(--primary-color)] transition font-medium" data-section="blog" aria-label="Blog">Blog</a>
        <a href="#resume" class="nav-link hover:text-[var(--primary-color)] transition font-medium" data-section="resume" aria-label="Resume">Resume</a>
        <a href="#contact" class="nav-link hover:text-[var(--primary-color)] transition font-medium" data-section="contact" aria-label="Contact">Contact</a>
      </div>
    </div>
  </nav>

  <!-- Back to Top Button -->
  <button id="back-to-top" class="back-to-top hidden btn rounded-full p-3" aria-label="Back to top">
    <i class="fas fa-arrow-up"></i>
  </button>

  <!-- Project Modals -->
  <div id="project-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal cursor-pointer text-2xl sm:text-3xl absolute top-2 right-4 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100" aria-label="Close modal">&times;</span>
      <h2 id="modal-title" class="text-xl sm:text-2xl font-semibold mb-4"></h2>
      <img id="modal-image" class="w-full h-48 sm:h-64 object-cover rounded-lg mb-4" alt="Project Image">
      <p id="modal-description" class="text-gray-600 dark:text-gray-300"></p>
      <a id="modal-link" href="#" class="text-[var(--primary-color)] hover:underline mt-4 block" target="_blank">View Project</a>
    </div>
  </div>

  <!-- Sections -->
  <main>
    <!-- Home Section -->
    <section id="home" class="section min-h-screen flex items-center justify-center parallax active" style="background-image: url('https://via.placeholder.com/1920x1080?text=Hero+Background')" data-aos="fade-up">
      <div class="card rounded-lg p-6 sm:p-8 max-w-md mx-auto z-10">
        <img src="https://via.placeholder.com/150" alt="Profile Photo" class="w-32 h-32 sm:w-40 sm:h-40 rounded-full mx-auto mb-4 object-cover border-4 border-white dark:border-gray-700">
        <h2 class="text-2xl sm:text-3xl font-bold text-center">Jogi Bala Venkata Aravind</h2>
        <p class="text-center text-gray-600 dark:text-gray-300 text-base sm:text-lg">I am a <span id="typed" class="typed font-semibold"></span></p>
        <a href="#resume" class="block mt-4 text-center text-[var(--primary-color)] hover:underline font-medium">Download Resume</a>
      </div>
    </section>

    <!-- About Section with Timeline -->
    <section id="about" class="section py-12 sm:py-16" data-aos="fade-up">
      <h2 class="text-3xl sm:text-4xl font-bold text-center mb-6 sm:mb-8">About Me</h2>
      <div class="card rounded-lg p-6 sm:p-8 max-w-4xl mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <p class="mb-2"><strong>Native Place:</strong> Hyderabad, Telangana</p>
            <p class="mb-2"><strong>Education:</strong> B.Tech in Computer Science</p>
            <p class="mb-2"><strong>Profession:</strong> Aspiring Full-Stack Developer</p>
            <p class="mb-2"><strong>Bio:</strong> Passionate about creating intuitive web applications and IoT solutions, with experience in quality assurance at Guts Electro Mech, focusing on in-process quality and pre-delivery inspection.</p>
            <h3 class="text-xl sm:text-2xl font-semibold mt-4">About My Work</h3>
            <p class="text-gray-600 dark:text-gray-300">Building innovative job portal solutions and IoT projects to connect talent with opportunities and enhance smart systems, leveraging modern web technologies and user-centric design.</p>
          </div>
          <div>
            <h3 class="text-xl sm:text-2xl font-semibold mb-4">My Journey</h3>
            <div class="space-y-4">
              <div class="timeline-item relative pl-10 pb-4" data-aos="fade-up" data-aos-delay="100">
                <p class="font-semibold">2018 - B.Tech in Computer Science</p>
                <p class="text-gray-600 dark:text-gray-300">Graduated from [University Name] with a focus on software development and IoT.</p>
              </div>
              <div class="timeline-item relative pl-10 pb-4" data-aos="fade-up" data-aos-delay="200">
                <p class="font-semibold">2019-2021 - Quality Assurance at Guts Electro Mech</p>
                <p class="text-gray-600 dark:text-gray-300">Ensured product quality through in-process inspections and pre-delivery checks.</p>
              </div>
              <div class="timeline-item relative pl-10" data-aos="fade-up" data-aos-delay="300">
                <p class="font-semibold">2022-Present - Full-Stack Developer</p>
                <p class="text-gray-600 dark:text-gray-300">Developing web and IoT solutions, including job portals and smart home systems.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Skills Section with Flip Cards -->
    <section id="skills" class="section py-12 sm:py-16 bg-gray-100 dark:bg-gray-900" data-aos="fade-up">
      <h2 class="text-3xl sm:text-4xl font-bold text-center mb-6 sm:mb-8">Skills</h2>
      <div class="max-w-4xl mx-auto">
        <canvas id="skills-chart" class="mb-6 sm:mb-8 h-64" role="img" aria-label="Bar chart of skill proficiency"></canvas>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6">
          <div class="card skill-card rounded-lg h-32" data-aos="fade-up" data-aos-delay="100">
            <div class="skill-card-inner">
              <div class="skill-card-front">
                <p class="font-semibold">HTML & CSS</p>
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded h-2" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100">
                  <div class="progress-bar h-2 rounded" style="width: 90%"></div>
                </div>
              </div>
              <div class="skill-card-back text-gray-800 dark:text-gray-200">
                <p>Tools: Tailwind CSS, Bootstrap</p>
                <p>Projects: Job Portal, Sensor Dashboard</p>
              </div>
            </div>
          </div>
          <div class="card skill-card rounded-lg h-32" data-aos="fade-up" data-aos-delay="200">
            <div class="skill-card-inner">
              <div class="skill-card-front">
                <p class="font-semibold">JavaScript</p>
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded h-2" role="progressbar" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100">
                  <div class="progress-bar h-2 rounded" style="width: 85%"></div>
                </div>
              </div>
              <div class="skill-card-back text-gray-800 dark:text-gray-200">
                <p>Tools: ES6, Node.js</p>
                <p>Projects: Interactive Dashboard, Portfolio</p>
              </div>
            </div>
          </div>
          <div class="card skill-card rounded-lg h-32" data-aos="fade-up" data-aos-delay="300">
            <div class="skill-card-inner">
              <div class="skill-card-front">
                <p class="font-semibold">React.js</p>
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded h-2" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100">
                  <div class="progress-bar h-2 rounded" style="width: 80%"></div>
                </div>
              </div>
              <div class="skill-card-back text-gray-800 dark:text-gray-200">
                <p>Tools: Redux, React Router</p>
                <p>Projects: Job Portal, Portfolio</p>
              </div>
            </div>
          </div>
          <div class="card skill-card rounded-lg h-32" data-aos="fade-up" data-aos-delay="400">
            <div class="skill-card-inner">
              <div class="skill-card-front">
                <p class="font-semibold">Node.js</p>
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded h-2" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                  <div class="progress-bar h-2 rounded" style="width: 75%"></div>
                </div>
              </div>
              <div class="skill-card-back text-gray-800 dark:text-gray-200">
                <p>Tools: Express, MongoDB</p>
                <p>Projects: API for Sensor Dashboard</p>
              </div>
            </div>
          </div>
          <div class="card skill-card rounded-lg h-32" data-aos="fade-up" data-aos-delay="500">
            <div class="skill-card-inner">
              <div class="skill-card-front">
                <p class="font-semibold">Arduino & ESP32</p>
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded h-2" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">
                  <div class="progress-bar h-2 rounded" style="width: 70%"></div>
                </div>
              </div>
              <div class="skill-card-back text-gray-800 dark:text-gray-200">
                <p>Tools: Arduino IDE, MQTT</p>
                <p>Projects: IoT Smart Home</p>
              </div>
            </div>
          </div>
          <div class="card skill-card rounded-lg h-32" data-aos="fade-up" data-aos-delay="600">
            <div class="skill-card-inner">
              <div class="skill-card-front">
                <p class="font-semibold">Quality Assurance</p>
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded h-2" role="progressbar" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100">
                  <div class="progress-bar h-2 rounded" style="width: 85%"></div>
                </div>
              </div>
              <div class="skill-card-back text-gray-800 dark:text-gray-200">
                <p>Tools: JIRA, TestRail</p>
                <p>Projects: Product Inspections</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Projects Section with Filtering -->
    <section id="projects" class="section py-12 sm:py-16" data-aos="fade-up">
      <h2 class="text-3xl sm:text-4xl font-bold text-center mb-6 sm:mb-8">Projects</h2>
      <div class="max-w-4xl mx-auto mb-6 flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4">
        <input id="project-filter" type="text" placeholder="Filter projects by title..." class="w-full p-2 rounded bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white focus:ring-2 focus:ring-[var(--primary-color)]" aria-label="Filter projects">
        <select id="project-category" class="p-2 rounded bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white focus:ring-2 focus:ring-[var(--primary-color)]" aria-label="Project category">
          <option value="">All Categories</option>
          <option value="Web">Web</option>
          <option value="IoT">IoT</option>
        </select>
      </div>
      <div id="project-listings" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 max-w-4xl mx-auto">
        <div class="card rounded-lg p-4 sm:p-6 project-card" data-category="Web" data-aos="fade-up" data-aos-delay="100" onclick="openProjectModal('Job Portal', 'A responsive job search platform with advanced filtering and user authentication.', 'https://via.placeholder.com/600?text=Job+Portal', '#')">
          <h3 class="text-xl sm:text-2xl font-semibold">Job Portal</h3>
          <p class="text-gray-600 dark:text-gray-300">A responsive job search platform with advanced filtering and user authentication.</p>
          <button class="text-[var(--primary-color)] hover:underline" aria-label="View Job Portal details">View Details</button>
        </div>
        <div class="card rounded-lg p-4 sm:p-6 project-card" data-category="IoT" data-aos="fade-up" data-aos-delay="200" onclick="openProjectModal('IoT Smart Home', 'An IoT project using Arduino and ESP32 for home appliance control with sensor interfacing.', 'https://via.placeholder.com/600?text=IoT+Smart+Home', '#')">
          <h3 class="text-xl sm:text-2xl font-semibold">IoT Smart Home</h3>
          <p class="text-gray-600 dark:text-gray-300">An IoT project using Arduino and ESP32 for home appliance control with sensor interfacing.</p>
          <button class="text-[var(--primary-color)] hover:underline" aria-label="View IoT Smart Home details">View Details</button>
        </div>
        <div class="card rounded-lg p-4 sm:p-6 project-card" data-category="Web" data-aos="fade-up" data-aos-delay="300" onclick="openProjectModal('ESP32 Sensor Dashboard', 'A web dashboard to monitor ESP32 sensor data, built with Node.js and Chart.js.', 'https://via.placeholder.com/600?text=Sensor+Dashboard', '#')">
          <h3 class="text-xl sm:text-2xl font-semibold">ESP32 Sensor Dashboard</h3>
          <p class="text-gray-600 dark:text-gray-300">A web dashboard to monitor ESP32 sensor data, built with Node.js and Chart.js.</p>
          <button class="text-[var(--primary-color)] hover:underline" aria-label="View ESP32 Sensor Dashboard details">View Details</button>
        </div>
      </div>
      <h3 class="text-xl sm:text-2xl font-semibold text-center mt-8 sm:mt-10">ESP32 Live Demo</h3>
      <div class="card rounded-lg p-6 sm:p-8 max-w-md mx-auto" data-aos="fade-up">
        <p><strong>Temperature:</strong> <span id="esp32-temp" class="data-update">25°C</span></p>
        <p><strong>Humidity:</strong> <span id="esp32-humidity" class="data-update">60%</span></p>
        <button id="esp32-refresh" class="btn rounded px-4 py-2 mt-4">Refresh Data</button>
      </div>
    </section>

    <!-- Job Portal Section -->
    <section id="jobs" class="section py-12 sm:py-16 bg-gray-100 dark:bg-gray-900" data-aos="fade-up">
      <h2 class="text-3xl sm:text-4xl font-bold text-center mb-6 sm:mb-8">Job Portal</h2>
      <div class="max-w-4xl mx-auto mb-6 flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4">
        <input id="job-filter" type="text" placeholder="Filter jobs by title..." class="w-full p-2 rounded bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white focus:ring-2 focus:ring-[var(--primary-color)]" aria-label="Filter jobs">
        <select id="job-category" class="p-2 rounded bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white focus:ring-2 focus:ring-[var(--primary-color)]" aria-label="Job category">
          <option value="">All Categories</option>
          <option value="Frontend Developer">Frontend Developer</option>
          <option value="IoT Engineer">IoT Engineer</option>
          <option value="Quality Analyst">Quality Analyst</option>
        </select>
      </div>
      <div id="job-listings" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 max-w-4xl mx-auto">
        <div class="card rounded-lg p-4 sm:p-6 job-card" data-category="Frontend Developer" data-aos="fade-up" data-aos-delay="100">
          <h3 class="text-xl sm:text-2xl font-semibold">Frontend Developer</h3>
          <p class="text-gray-600 dark:text-gray-300">Develop responsive web interfaces using React and Tailwind CSS.</p>
          <a href="#" class="text-[var(--primary-color)] hover:underline">Apply Now</a>
        </div>
        <div class="card rounded-lg p-4 sm:p-6 job-card" data-category="IoT Engineer" data-aos="fade-up" data-aos-delay="200">
          <h3 class="text-xl sm:text-2xl font-semibold">IoT Engineer</h3>
          <p class="text-gray-600 dark:text-gray-300">Design and implement IoT solutions with ESP32 and Arduino.</p>
          <a href="#" class="text-[var(--primary-color)] hover:underline">Apply Now</a>
        </div>
        <div class="card rounded-lg p-4 sm:p-6 job-card" data-category="Quality Analyst" data-aos="fade-up" data-aos-delay="300">
          <h3 class="text-xl sm:text-2xl font-semibold">Quality Analyst</h3>
          <p class="text-gray-600 dark:text-gray-300">Ensure product quality through in-process and pre-delivery inspections.</p>
          <a href="#" class="text-[var(--primary-color)] hover:underline">Apply Now</a>
        </div>
      </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="section py-12 sm:py-16 bg-gray-50 dark:bg-gray-800" data-aos="fade-up">
      <h2 class="text-3xl sm:text-4xl font-bold text-center mb-6 sm:mb-8">Testimonials</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 max-w-4xl mx-auto">
        <div class="card rounded-lg p-4 sm:p-6" data-aos="fade-up" data-aos-delay="100">
          <p class="text-gray-600 dark:text-gray-300 italic">"Aravind's work on our job portal was exceptional, delivering a seamless user experience."</p>
          <p class="font-semibold mt-2">John Doe, Project Manager</p>
        </div>
        <div class="card rounded-lg p-4 sm:p-6" data-aos="fade-up" data-aos-delay="200">
          <p class="text-gray-600 dark:text-gray-300 italic">"His IoT solutions brought our smart home project to life with innovative design."</p>
          <p class="font-semibold mt-2">Jane Smith, IoT Lead</p>
        </div>
        <div class="card rounded-lg p-4 sm:p-6" data-aos="fade-up" data-aos-delay="300">
          <p class="text-gray-600 dark:text-gray-300 italic">"Aravind's attention to detail in quality assurance ensured top-notch product delivery."</p>
          <p class="font-semibold mt-2">Alex Brown, QA Supervisor</p>
        </div>
      </div>
    </section>

    <!-- Blog Preview Section -->
    <section id="blog" class="section py-12 sm:py-16" data-aos="fade-up">
      <h2 class="text-3xl sm:text-4xl font-bold text-center mb-6 sm:mb-8">Blog</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 max-w-4xl mx-auto">
        <div class="card rounded-lg p-4 sm:p-6" data-aos="fade-up" data-aos-delay="100">
          <h3 class="text-xl sm:text-2xl font-semibold">Building a Job Portal with React</h3>
          <p class="text-gray-600 dark:text-gray-300">A deep dive into creating a responsive job portal using React and Tailwind CSS.</p>
          <a href="#" class="text-[var(--primary-color)] hover:underline">Read More</a>
        </div>
        <div class="card rounded-lg p-4 sm:p-6" data-aos="fade-up" data-aos-delay="200">
          <h3 class="text-xl sm:text-2xl font-semibold">IoT with ESP32</h3>
          <p class="text-gray-600 dark:text-gray-300">How to integrate ESP32 with web dashboards for real-time sensor data.</p>
          <a href="#" class="text-[var(--primary-color)] hover:underline">Read More</a>
        </div>
        <div class="card rounded-lg p-4 sm:p-6" data-aos="fade-up" data-aos-delay="300">
          <h3 class="text-xl sm:text-2xl font-semibold">Quality Assurance Best Practices</h3>
          <p class="text-gray-600 dark:text-gray-300">Tips for ensuring high-quality deliverables in tech projects.</p>
          <a href="#" class="text-[var(--primary-color)] hover:underline">Read More</a>
        </div>
      </div>
    </section>

    <!-- Photo Gallery Section -->
    <section id="gallery" class="section py-12 sm:py-16" data-aos="fade-up">
      <h2 class="text-3xl sm:text-4xl font-bold text-center mb-6 sm:mb-8">Photo Gallery</h2>
      <div class="max-w-4xl mx-auto mb-6">
        <input type="file" id="photo-upload" accept="image/*" class="w-full p-2 rounded bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white focus:ring-2 focus:ring-[var(--primary-color)]" aria-label="Upload photo">
        <div id="photo-preview" class="mt-4 hidden">
          <img id="preview-img" class="w-32 h-32 rounded-lg object-cover" alt="Photo Preview">
          <button onclick="addToGallery()" class="mt-2 btn rounded px-4 py-2">Add to Gallery</button>
        </div>
      </div>
      <div id="gallery-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 max-w-4xl mx-auto">
        <img src="https://via.placeholder.com/300?text=Project+1" alt="Project 1" loading="lazy" role="img" class="rounded-lg object-cover w-full h-48 card cursor-pointer" onclick="openLightbox(this.src, this.alt, 0)" data-aos="fade-up" data-aos-delay="100">
        <img src="https://via.placeholder.com/300?text=Project+2" alt="Project 2" loading="lazy" role="img" class="rounded-lg object-cover w-full h-48 card cursor-pointer" onclick="openLightbox(this.src, this.alt, 1)" data-aos="fade-up" data-aos-delay="200">
        <img src="https://via.placeholder.com/300?text=IoT+Setup" alt="IoT Setup" loading="lazy" role="img" class="rounded-lg object-cover w-full h-48 card cursor-pointer" onclick="openLightbox(this.src, this.alt, 2)" data-aos="fade-up" data-aos-delay="300">
      </div>
      <div id="lightbox" class="modal">
        <div class="modal-content max-w-3xl">
          <span onclick="closeLightbox()" class="close-modal cursor-pointer text-2xl sm:text-3xl absolute top-2 right-4 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100" aria-label="Close lightbox">&times;</span>
          <button onclick="prevImage()" class="absolute left-4 top-1/2 text-gray-600 dark:text-gray-300 text-2xl sm:text-3xl cursor-pointer hover:text-gray-800 dark:hover:text-gray-100" aria-label="Previous image"><i class="fas fa-chevron-left"></i></button>
          <img id="lightbox-img" class="max-w-full max-h-[70vh] rounded-lg" alt="Lightbox Image">
          <button onclick="nextImage()" class="absolute right-4 top-1/2 text-gray-600 dark:text-gray-300 text-2xl sm:text-3xl cursor-pointer hover:text-gray-800 dark:hover:text-gray-100" aria-label="Next image"><i class="fas fa-chevron-right"></i></button>
          <p id="lightbox-caption" class="text-gray-600 dark:text-gray-300 mt-2 text-center"></p>
        </div>
      </div>
    </section>

    <!-- Resume Builder Section -->
    <section id="resume" class="section py-12 sm:py-16 bg-gray-100 dark:bg-gray-900" data-aos="fade-up">
      <h2 class="text-3xl sm:text-4xl font-bold text-center mb-6 sm:mb-8">Resume Builder</h2>
      <div class="card rounded-lg p-6 sm:p-8 max-w-2xl mx-auto">
        <form id="resume-form" class="space-y-4">
          <input id="resume-name" type="text" placeholder="Full Name" class="w-full p-2 rounded bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white focus:ring-2 focus:ring-[var(--primary-color)]" aria-label="Resume name" required>
          <input id="resume-email" type="email" placeholder="Email" class="w-full p-2 rounded bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white focus:ring-2 focus:ring-[var(--primary-color)]" aria-label="Resume email" required>
          <textarea id="resume-experience" placeholder="Experience (e.g., Guts Electro Mech - Quality Assurance)" class="w-full p-2 rounded bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white focus:ring-2 focus:ring-[var(--primary-color)]" rows="4" aria-label="Resume experience" required></textarea>
          <textarea id="resume-skills" placeholder="Skills (e.g., JavaScript, ESP32)" class="w-full p-2 rounded bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white focus:ring-2 focus:ring-[var(--primary-color)]" rows="4" aria-label="Resume skills" required></textarea>
          <button type="submit" class="w-full p-2 btn rounded" aria-label="Preview resume">Preview Resume</button>
        </form>
        <div id="resume-preview" class="mt-6 hidden">
          <h3 class="text-xl sm:text-2xl font-semibold">Resume Preview</h3>
          <p><strong>Name:</strong> <span id="preview-name"></span></p>
          <p><strong>Email:</strong> <span id="preview-email"></span></p>
          <p><strong>Experience:</strong> <span id="preview-experience"></span></p>
          <p><strong>Skills:</strong> <span id="preview-skills"></span></p>
          <a id="resume-download" href="#resume" download class="block mt-4 text-center text-[var(--primary-color)] hover:underline">Download Resume</a>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section py-12 sm:py-16" data-aos="fade-up">
      <h2 class="text-3xl sm:text-4xl font-bold text-center mb-6 sm:mb-8">Contact</h2>
      <div class="card rounded-lg p-6 sm:p-8 max-w-md mx-auto">
        <p><strong>Phone:</strong> <span onclick="copyToClipboard('9381329751')" class="cursor-pointer hover:text-[var(--primary-color)]" aria-label="Copy phone number">9381329751</span></p>
        <p><strong>Email:</strong> <span onclick="copyToClipboard('aravind@example.com')" class="cursor-pointer hover:text-[var(--primary-color)]" aria-label="Copy email">aravind@example.com</span></p>
        <p><strong>LinkedIn:</strong> <a href="#" class="hover:text-[var(--primary-color)]" aria-label="LinkedIn profile">linkedin.com/in/aravind</a></p>
        <p><strong>GitHub:</strong> <a href="#" class="hover:text-[var(--primary-color)]" aria-label="GitHub profile">github.com/aravind</a></p>
        <div id="qr-code" class="mt-4 flex justify-center"></div>
        <div class="mt-4">
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3806.123456789!2d78.486671!3d17.385044!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bcb99e8e6b7c7ad%3A0x1e8b7f6a2b3c4d5e!2sHyderabad%2C%20Telangana%2C%20India!5e0!3m2!1sen!2sin!4v1698765432109!5m2!1sen!2sin" width="100%" height="200" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" aria-label="Map of Hyderabad"></iframe>
        </div>
        <form id="contact-form" class="mt-6 space-y-4" action="https://formspree.io/f/your-form-id" method="POST">
          <input type="hidden" name="_subject" value="New Contact Form Submission">
          <input id="form-name" type="text" placeholder="Your Name" class="w-full p-2 rounded bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white focus:ring-2 focus:ring-[var(--primary-color)]" aria-label="Contact name" required>
          <input id="form-email" type="email" placeholder="Your Email" class="w-full p-2 rounded bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white focus:ring-2 focus:ring-[var(--primary-color)]" aria-label="Contact email" required>
          <textarea id="form-message" placeholder="Your Message" class="w-full p-2 rounded bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white focus:ring-2 focus:ring-[var(--primary-color)]" rows="4" aria-label="Contact message" required></textarea>
          <button type="submit" class="w-full p-2 btn rounded" id="contact-submit" aria-label="Send message">Send Message</button>
        </form>
      </div>
      <div id="toast-container" class="fixed top-4 left-1/2 transform -translate-x-1/2 z-50" aria-live="polite"></div>
    </section>
  </main>

  <!-- Footer with Newsletter Signup -->
  <footer class="text-center py-6 bg-gray-100 dark:bg-gray-900" data-aos="fade-up">
    <div class="max-w-md mx-auto mb-6">
      <h3 class="text-xl sm:text-2xl font-semibold mb-4">Stay Updated</h3>
      <form id="newsletter-form" class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2" action="https://formspree.io/f/your-newsletter-form-id" method="POST">
        <input type="hidden" name="_subject" value="Newsletter Signup">
        <input id="newsletter-email" type="email" placeholder="Your Email" class="w-full p-2 rounded bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white focus:ring-2 focus:ring-[var(--primary-color)]" aria-label="Newsletter email" required>
        <button type="submit" class="btn rounded px-4 py-2" aria-label="Subscribe to newsletter">Subscribe</button>
      </form>
    </div>
    <div class="flex justify-center space-x-4 sm:space-x-6 mb-4">
      <a href="#" class="hover:text-[var(--primary-color)] transition p-2" aria-label="LinkedIn"><i class="fab fa-linkedin fa-lg"></i></a>
      <a href="#" class="hover:text-[var(--primary-color)] transition p-2" aria-label="GitHub"><i class="fab fa-github fa-lg"></i></a>
      <a href="#" class="hover:text-[var(--primary-color)] transition p-2" aria-label="Twitter"><i class="fab fa-twitter fa-lg"></i></a>
    </div>
    <div class="flex justify-center space-x-4 sm:space-x-6 mb-4">
      <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://your-domain.com" class="btn rounded px-4 py-2" aria-label="Share on LinkedIn">Share on LinkedIn</a>
      <a href="https://twitter.com/intent/tweet?url=https://your-domain.com&text=Check out my portfolio!" class="btn rounded px-4 py-2" aria-label="Share on Twitter">Share on Twitter</a>
    </div>
    <p class="text-gray-600 dark:text-gray-300">© 2025 Jogi Bala Venkata Aravind. All rights reserved.</p>
  </footer>

  <script>
    // Initialize AOS with Fallback
    try {
      AOS.init({ duration: 800, once: true });
    } catch (e) {
      console.error("AOS initialization failed:", e);
      showToast("Animation library failed to load.", true);
      document.getElementById("loading").classList.add("hidden"); // Fallback to hide spinner
    }

    // Smooth Scroll Polyfill
    smoothScrollPolyfill.polyfill();

    // Google Analytics
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'YOUR-GA-ID');

    // Theme Toggle and Dynamic Color
    const body = document.getElementById("body");
    const themeToggle = document.getElementById("theme-toggle");
    const themeColor = document.getElementById("theme-color");
    let isDark = localStorage.getItem("theme") === "dark" || (!localStorage.getItem("theme") && window.matchMedia("(prefers-color-scheme: dark)").matches);
    let primaryColor = localStorage.getItem("primaryColor") || "#3b82f6";
    document.documentElement.style.setProperty("--primary-color", primaryColor);
    body.className = isDark ? "dark-mode min-h-screen transition-colors duration-300" : "min-h-screen transition-colors duration-300";
    themeToggle.innerHTML = `<i class="fas fa-${isDark ? 'moon' : 'sun'}"></i>`;
    themeColor.value = primaryColor;
    themeToggle.addEventListener("click", () => {
      isDark = !isDark;
      body.className = isDark ? "dark-mode min-h-screen transition-colors duration-300" : "min-h-screen transition-colors duration-300";
      themeToggle.innerHTML = `<i class="fas fa-${isDark ? 'moon' : 'sun'}"></i>`;
      localStorage.setItem("theme", isDark ? "dark" : "light");
    });
    themeColor.addEventListener("change", (e) => {
      primaryColor = e.target.value;
      document.documentElement.style.setProperty("--primary-color", primaryColor);
      localStorage.setItem("primaryColor", primaryColor);
    });

    // Mobile Menu Toggle
    const mobileMenuBtn = document.getElementById("mobile-menu-btn");
    const navLinks = document.getElementById("nav-links");
    mobileMenuBtn.addEventListener("click", () => {
      navLinks.classList.toggle("hidden");
      navLinks.classList.toggle("open");
      mobileMenuBtn.innerHTML = navLinks.classList.contains("hidden")
        ? '<i class="fas fa-bars"></i>'
        : '<i class="fas fa-times"></i>';
    });

    // Section Navigation with Fixed Spinner Logic
    const sections = document.querySelectorAll(".section");
    const navLinksList = document.querySelectorAll(".nav-link");
    const loadingSpinner = document.getElementById("loading");
    let isNavigating = false;
    function showSection(sectionId) {
      if (isNavigating) return; // Prevent multiple rapid clicks
      isNavigating = true;
      loadingSpinner.classList.remove("hidden");
      setTimeout(() => {
        sections.forEach(section => {
          section.classList.remove("active", "fade-in");
        });
        const targetSection = document.getElementById(sectionId);
        targetSection.classList.add("active", "fade-in");
        navLinksList.forEach(link => link.classList.remove("text-[var(--primary-color)]"));
        document.querySelector(`[data-section="${sectionId}"]`).classList.add("text-[var(--primary-color)]");
        window.scrollTo({ top: targetSection.offsetTop - 80, behavior: "smooth" });
        targetSection.focus({ preventScroll: true });
        loadingSpinner.classList.add("hidden");
        isNavigating = false;
      }, 300);
      if (!navLinks.classList.contains("hidden")) {
        navLinks.classList.add("hidden");
        navLinks.classList.remove("open");
        mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
      }
    }
    navLinksList.forEach(link => {
      link.addEventListener("click", (e) => {
        e.preventDefault();
        const sectionId = link.getAttribute("data-section");
        showSection(sectionId);
      });
    });
    showSection("home");

    // Hide Spinner on Load with Timeout
    window.addEventListener("load", () => {
      setTimeout(() => {
        loadingSpinner.classList.add("hidden");
      }, 1000); // Max 1s spinner display
    });

    // Scroll Progress Bar
    const scrollProgress = document.getElementById("scroll-progress");
    window.addEventListener("scroll", () => {
      const scrollTop = window.scrollY;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const scrollPercent = (scrollTop / docHeight) * 100;
      scrollProgress.style.width = `${scrollPercent}%`;
    });

    // Typed Animation
    const typed = document.getElementById("typed");
    const texts = ["Web Developer", "IoT Innovator", "Quality Analyst"];
    let index = 0, charIndex = 0, isDeleting = false, text = "";
    function type() {
      if (index >= texts.length) index = 0;
      text = texts[index];
      if (!isDeleting && charIndex < text.length) {
        typed.textContent = text.slice(0, ++charIndex);
        setTimeout(type, 100);
      } else if (isDeleting && charIndex > 0) {
        typed.textContent = text.slice(0, --charIndex);
        setTimeout(type, 50);
      } else {
        isDeleting = !isDeleting;
        if (!isDeleting) index++;
        setTimeout(type, isDeleting ? 1000 : 2000);
      }
    }
    try {
      type();
    } catch (e) {
      console.error("Typed animation failed:", e);
      typed.textContent = "Web Developer";
      loadingSpinner.classList.add("hidden");
    }

    // Toast Notification Queue
    const toastContainer = document.getElementById("toast-container");
    const toastQueue = [];
    function showToast(message, isError = false) {
      toastQueue.push({ message, isError });
      if (toastQueue.length === 1) displayNextToast();
    }
    function displayNextToast() {
      if (toastQueue.length === 0) return;
      const { message, isError } = toastQueue[0];
      const toast = document.createElement("div");
      toast.className = `bg-${isError ? 'red' : 'blue'}-500 text-white px-4 py-2 rounded-lg shadow-lg toast`;
      toast.textContent = message;
      toast.style.opacity = "0";
      toast.style.transform = "translate(-50%, -20px)";
      toastContainer.appendChild(toast);
      setTimeout(() => {
        toast.style.opacity = "1";
        toast.style.transform = "translate(-50%, 0)";
        setTimeout(() => {
          toast.style.opacity = "0";
          toast.style.transform = "translate(-50%, -20px)";
          setTimeout(() => {
            toast.remove();
            toastQueue.shift();
            displayNextToast();
          }, 500);
        }, 3000);
      }, 10);
    }

    // Copy to Clipboard with Fallback
    function copyToClipboard(text) {
      if (navigator.clipboard) {
        navigator.clipboard.writeText(text).then(() => {
          showToast("Copied to clipboard!");
        }).catch(e => {
          console.error("Clipboard copy failed:", e);
          showToast("Failed to copy!", true);
        });
      } else {
        const textarea = document.createElement("textarea");
        textarea.value = text;
        document.body.appendChild(textarea);
        textarea.select();
        try {
          document.execCommand("copy");
          showToast("Copied to clipboard!");
        } catch (e) {
          console.error("Fallback copy failed:", e);
          showToast("Failed to copy!", true);
        }
        document.body.removeChild(textarea);
      }
    }

    // Contact Form Submission
    const contactForm = document.getElementById("contact-form");
    const contactSubmit = document.getElementById("contact-submit");
    contactForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("form-name").value;
      const email = document.getElementById("form-email").value;
      const message = document.getElementById("form-message").value;
      if (!/^[a-zA-Z\s]+$/.test(name)) {
        showToast("Name should contain only letters and spaces.", true);
        return;
      }
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
        showToast("Invalid email address.", true);
        return;
      }
      if (message.length < 10) {
        showToast("Message must be at least 10 characters.", true);
        return;
      }
      contactSubmit.disabled = true;
      contactSubmit.innerHTML = '<div class="spinner active"></div>';
      try {
        const response = await fetch("https://formspree.io/f/your-form-id", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ name, email, message })
        });
        if (response.ok) {
          showToast("Message sent successfully!");
          contactForm.reset();
        } else {
          showToast("Failed to send message.", true);
        }
      } catch (e) {
        console.error("Form submission failed:", e);
        showToast("Failed to send message.", true);
      } finally {
        contactSubmit.disabled = false;
        contactSubmit.innerHTML = "Send Message";
        loadingSpinner.classList.add("hidden");
      }
    });

    // Newsletter Signup
    const newsletterForm = document.getElementById("newsletter-form");
    const newsletterSubmit = newsletterForm.querySelector("button");
    newsletterForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = document.getElementById("newsletter-email").value;
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
        showToast("Invalid email address.", true);
        return;
      }
      newsletterSubmit.disabled = true;
      newsletterSubmit.innerHTML = '<div class="spinner active"></div>';
      try {
        const response = await fetch("https://formspree.io/f/your-newsletter-form-id", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ email })
        });
        if (response.ok) {
          showToast("Subscribed successfully!");
          newsletterForm.reset();
        } else {
          showToast("Failed to subscribe.", true);
        }
      } catch (e) {
        console.error("Newsletter submission failed:", e);
        showToast("Failed to subscribe.", true);
      } finally {
        newsletterSubmit.disabled = false;
        newsletterSubmit.innerHTML = "Subscribe";
        loadingSpinner.classList.add("hidden");
      }
    });

    // Job Filter with Debouncing
    const jobFilter = document.getElementById("job-filter");
    const jobCategory = document.getElementById("job-category");
    const jobCards = document.querySelectorAll(".job-card");
    let filterTimeout;
    function filterJobs() {
      clearTimeout(filterTimeout);
      filterTimeout = setTimeout(() => {
        const filter = jobFilter.value.toLowerCase();
        const category = jobCategory.value;
        jobCards.forEach(card => {
          const title = card.querySelector("h3").textContent.toLowerCase();
          const cardCategory = card.getAttribute("data-category");
          const matchesFilter = title.includes(filter);
          const matchesCategory = !category || cardCategory === category;
          card.style.display = matchesFilter && matchesCategory ? "block" : "none";
        });
      }, 300);
    }
    jobFilter.addEventListener("input", filterJobs);
    jobCategory.addEventListener("change", filterJobs);

    // Project Filter with Debouncing
    const projectFilter = document.getElementById("project-filter");
    const projectCategory = document.getElementById("project-category");
    const projectCards = document.querySelectorAll(".project-card");
    let projectFilterTimeout;
    function filterProjects() {
      clearTimeout(projectFilterTimeout);
      projectFilterTimeout = setTimeout(() => {
        const filter = projectFilter.value.toLowerCase();
        const category = projectCategory.value;
        projectCards.forEach(card => {
          const title = card.querySelector("h3").textContent.toLowerCase();
          const cardCategory = card.getAttribute("data-category");
          const matchesFilter = title.includes(filter);
          const matchesCategory = !category || cardCategory === category;
          card.style.display = matchesFilter && matchesCategory ? "block" : "none";
        });
      }, 300);
    }
    projectFilter.addEventListener("input", filterProjects);
    projectCategory.addEventListener("change", filterProjects);

    // Project Modal
    const projectModal = document.getElementById("project-modal");
    const modalTitle = document.getElementById("modal-title");
    const modalImage = document.getElementById("modal-image");
    const modalDescription = document.getElementById("modal-description");
    const modalLink = document.getElementById("modal-link");
    function openProjectModal(title, description, image, link) {
      modalTitle.textContent = title;
      modalImage.src = image;
      modalImage.alt = title;
      modalDescription.textContent = description;
      modalLink.href = link;
      projectModal.style.display = "block";
      projectModal.focus();
      document.addEventListener("keydown", handleModalKeys);
    }
    function closeProjectModal() {
      projectModal.style.display = "none";
      document.removeEventListener("keydown", handleModalKeys);
    }
    function handleModalKeys(e) {
      if (e.key === "Escape") closeProjectModal();
    }
    document.querySelectorAll(".close-modal").forEach(btn => {
      btn.addEventListener("click", closeProjectModal);
    });
    projectModal.addEventListener("click", (e) => {
      if (e.target === projectModal) closeProjectModal();
    });

    // Photo Gallery Upload and Lightbox with Swipe Support
    const galleryImages = [
      { src: "https://via.placeholder.com/300?text=Project+1", alt: "Project 1" },
      { src: "https://via.placeholder.com/300?text=Project+2", alt: "Project 2" },
      { src: "https://via.placeholder.com/300?text=IoT+Setup", alt: "IoT Setup" }
    ];
    let currentImageIndex = 0;
    const photoUpload = document.getElementById("photo-upload");
    const photoPreview = document.getElementById("photo-preview");
    const previewImg = document.getElementById("preview-img");
    const galleryGrid = document.getElementById("gallery-grid");
    const lightbox = document.getElementById("lightbox");
    let touchStartX = 0;
    let touchEndX = 0;
    photoUpload.addEventListener("change", (e) => {
      const file = e.target.files[0];
      if (file && file.type.startsWith("image/")) {
        const reader = new FileReader();
        reader.onload = () => {
          previewImg.src = reader.result;
          previewImg.alt = file.name;
          photoPreview.classList.remove("hidden");
        };
        reader.readAsDataURL(file);
      } else {
        showToast("Please upload a valid image.", true);
      }
    });
    function addToGallery() {
      const src = previewImg.src;
      const alt = previewImg.alt;
      galleryImages.push({ src, alt });
      const img = document.createElement("img");
      img.src = src;
      img.alt = alt;
      img.loading = "lazy";
      img.role = "img";
      img.className = "rounded-lg object-cover w-full h-48 card cursor-pointer";
      img.setAttribute("data-aos", "fade-up");
      img.setAttribute("data-aos-delay", (galleryImages.length * 100).toString());
      img.onclick = () => openLightbox(src, alt, galleryImages.length - 1);
      galleryGrid.appendChild(img);
      photoPreview.classList.add("hidden");
      photoUpload.value = "";
      showToast("Photo added to gallery!");
    }
    function openLightbox(src, alt, index) {
      currentImageIndex = index;
      const lightboxImg = document.getElementById("lightbox-img");
      const lightboxCaption = document.getElementById("lightbox-caption");
      lightboxImg.src = src;
      lightboxImg.alt = alt;
      lightboxCaption.textContent = alt;
      lightbox.style.display = "block";
      lightbox.focus();
      document.addEventListener("keydown", handleLightboxKeys);
      lightbox.addEventListener("touchstart", handleTouchStart);
      lightbox.addEventListener("touchend", handleTouchEnd);
    }
    function closeLightbox() {
      lightbox.style.display = "none";
      document.removeEventListener("keydown", handleLightboxKeys);
      lightbox.removeEventListener("touchstart", handleTouchStart);
      lightbox.removeEventListener("touchend", handleTouchEnd);
    }
    function prevImage() {
      currentImageIndex = (currentImageIndex - 1 + galleryImages.length) % galleryImages.length;
      const { src, alt } = galleryImages[currentImageIndex];
      document.getElementById("lightbox-img").src = src;
      document.getElementById("lightbox-img").alt = alt;
      document.getElementById("lightbox-caption").textContent = alt;
    }
    function nextImage() {
      currentImageIndex = (currentImageIndex + 1) % galleryImages.length;
      const { src, alt } = galleryImages[currentImageIndex];
      document.getElementById("lightbox-img").src = src;
      document.getElementById("lightbox-img").alt = alt;
      document.getElementById("lightbox-caption").textContent = alt;
    }
    function handleLightboxKeys(e) {
      if (e.key === "Escape") closeLightbox();
      else if (e.key === "ArrowLeft") prevImage();
      else if (e.key === "ArrowRight") nextImage();
    }
    function handleTouchStart(e) {
      touchStartX = e.changedTouches[0].screenX;
    }
    function handleTouchEnd(e) {
      touchEndX = e.changedTouches[0].screenX;
      if (touchStartX - touchEndX > 50) nextImage();
      if (touchEndX - touchStartX > 50) prevImage();
    }
    lightbox.addEventListener("click", (e) => {
      if (e.target === lightbox) closeLightbox();
    });

    // Skills Chart
    try {
      const ctx = document.getElementById("skills-chart").getContext("2d");
      new Chart(ctx, {
        type: "bar",
        data: {
          labels: ["HTML & CSS", "JavaScript", "React.js", "Node.js", "Arduino & ESP32", "Quality Assurance"],
          datasets: [{
            label: "Skill Proficiency",
            data: [90, 85, 80, 75, 70, 85],
            backgroundColor: ["var(--primary-color)", "var(--secondary-color)", "var(--primary-color)", "var(--secondary-color)", "var(--primary-color)", "var(--secondary-color)"],
            borderColor: ["#2563eb", "#3b82f6", "#2563eb", "#3b82f6", "#2563eb", "#3b82f6"],
            borderWidth: 1
          }]
        },
        options: {
          scales: { y: { beginAtZero: true, max: 100 } },
          plugins: { legend: { display: false } },
          responsive: true,
          maintainAspectRatio: false
        }
      });
    } catch (e) {
      console.error("Chart.js failed:",e);
      showToast("Failed to load skills chart.", true);
    }

    // Resume Builder with jsPDF
    const resumeForm = document.getElementById("resume-form");
    const resumePreview = document.getElementById("resume-preview");
    const resumeDownload = document.getElementById("resume-download");
    resumeForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const name = document.getElementById("resume-name").value;
      const email = document.getElementById("resume-email").value;
      const experience = document.getElementById("resume-experience").value;
      const skills = document.getElementById("resume-skills").value;
      if (!/^[a-zA-Z\s]+$/.test(name)) {
        showToast("Name should contain only letters and spaces.", true);
        return;
      }
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
        showToast("Invalid email address.", true);
        return;
      }
      document.getElementById("preview-name").textContent = name;
      document.getElementById("preview-email").textContent = email;
      document.getElementById("preview-experience").textContent = experience;
      document.getElementById("preview-skills").textContent = skills;
      resumePreview.classList.remove("hidden");
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      doc.setFontSize(16);
      doc.text("Resume", 20, 20);
      doc.setFontSize(12);
      doc.text(`Name: ${name}`, 20, 30);
      doc.text(`Email: ${email}`, 20, 40);
      doc.text("Experience:", 20, 50);
      doc.text(experience, 20, 60, { maxWidth: 170 });
      doc.text("Skills:", 20, 80);
      doc.text(skills, 20, 90, { maxWidth: 170 });
      resumeDownload.href = doc.output("bloburl");
      resumeDownload.download = `${name.replace(/\s+/g, "_")}_resume.pdf`;
      showToast("Resume preview generated!");
    });

    // QR Code Generator
    try {
      const qrCode = new QRCode(document.getElementById("qr-code"), {
        text: "https://your-domain.com",
        width: 128,
        height: 128,
        colorDark: isDark ? "#ffffff" : "#000000",
        colorLight: isDark ? "#1f2937" : "#ffffff"
      });
    } catch (e) {
      console.error("QR Code generation failed:", e);
      showToast("Failed to generate QR code.", true);
    }

    // Back to Top Button
    const backToTop = document.getElementById("back-to-top");
    window.addEventListener("scroll", () => {
      backToTop.classList.toggle("hidden", window.scrollY < 300);
    });
    backToTop.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    // ESP32 Data Simulation
    const esp32Refresh = document.getElementById("esp32-refresh");
    const esp32Temp = document.getElementById("esp32-temp");
    const esp32Humidity = document.getElementById("esp32-humidity");
    esp32Refresh.addEventListener("click", () => {
      esp32Refresh.disabled = true;
      esp32Refresh.innerHTML = '<div class="spinner active"></div>';
      setTimeout(() => {
        esp32Temp.textContent = `${Math.floor(Math.random() * 10 + 20)}°C`;
        esp32Humidity.textContent = `${Math.floor(Math.random() * 20 + 50)}%`;
        esp32Temp.classList.add("active");
        esp32Humidity.classList.add("active");
        setTimeout(() => {
          esp32Temp.classList.remove("active");
          esp32Humidity.classList.remove("active");
        }, 500);
        esp32Refresh.disabled = false;
        esp32Refresh.innerHTML = "Refresh Data";
        showToast("ESP32 data updated!");
      }, 1000);
    });

    // Modal Focus Trap
    function trapFocus(modal) {
      const focusableElements = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
      const firstElement = focusableElements[0];
      const lastElement = focusableElements[focusableElements.length - 1];
      modal.addEventListener("keydown", (e) => {
        if (e.key === "Tab") {
          if (e.shiftKey && document.activeElement === firstElement) {
            e.preventDefault();
            lastElement.focus();
          } else if (!e.shiftKey && document.activeElement === lastElement) {
            e.preventDefault();
            firstElement.focus();
          }
        }
      });
    }
    projectModal.addEventListener("focusin", () => trapFocus(projectModal));
    lightbox.addEventListener("focusin", () => trapFocus(lightbox));

    // PWA Support
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/sw.js").catch(e => console.error("Service Worker registration failed:", e));
    }
    window.addEventListener("beforeinstallprompt", (e) => {
      e.preventDefault();
      const installBtn = document.createElement("button");
      installBtn.className = "btn rounded px-4 py-2 mt-4";
      installBtn.textContent = "Install App";
      installBtn.onclick = () => e.prompt();
      document.getElementById("home").querySelector(".card").appendChild(installBtn);
    });

    // Error Boundary Fallback
    window.addEventListener("error", (e) => {
      console.error("Global error:", e);
      showToast("An error occurred. Please try again.", true);
      loadingSpinner.classList.add("hidden");
    });
  </script>
</body>
</html>
